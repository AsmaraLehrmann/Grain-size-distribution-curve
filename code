import os
import pandas as pd
import matplotlib.pyplot as plt
import matplotlib.cm as cm
import numpy as np
#cmcrameri from callumrollo
import cmcrameri

# Path to the folder containing CSV files
folder_path = "folder_path"

# Initialize lists to store data from all files
um_all = []
indiv_perc_all = []

# Iterate through all files in the folder
for filename in os.listdir(folder_path):
    if filename.endswith(".csv"):
        # Read the CSV file
        data = pd.read_csv(os.path.join(folder_path, filename))
        
        # Extract the columns of interest
        um = data["um"]
        indiv_perc = data["indiv perc"]
        
        # Append data to the lists
        um_all.append(um)
        indiv_perc_all.append(indiv_perc)

# Create a larger figure
plt.figure(figsize=(10, 6))  # Adjust width and height as needed

# Create a line plot for each file using matplotlib's built-in colormaps
num_files = len(um_all)
color_map = plt.get_cmap('viridis')  # You can also try 'plasma' or any other colormap
for i, (um, indiv_perc) in enumerate(zip(um_all, indiv_perc_all)):
    color = color_map(i / num_files)
    plt.plot(um, indiv_perc, alpha=0.8, color=color)

plt.title('Distribution of "um" vs "indiv perc"')
plt.xlabel('Grain size (Âµm)')  # Updated x-axis label
plt.ylabel('wt %')  # Updated y-axis label
plt.grid(True)

# Set x-axis to be logarithmic
plt.xscale('log')

plt.show()
